<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>1 sat = CLP</title>
<style>
  html {
    font-size: clamp(16px, 4vw, 24px);
  }
  body {
    background:#111;
    color:#0f0;
    font-family: monospace;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
  }
  #hero {
    margin-bottom:0.5em;
    font-size:1.5em;
  }
  #hero a {
    color:#0f0;
    text-decoration:none;
  }
  #desc {
    margin-bottom:2em;
    text-align:center;
  }
  #illustration {
    margin-bottom:1em;
    width:200px;
    max-width:80%;
    height:auto;
  }
  #value {
    font-size: clamp(2rem, 8vw, 4rem);
  }
  #timestamp {
    margin-top:1em;
    font-size:1em;
    color:#888;
  }
  #footer {
    margin-top:2em;
    font-size:0.8em;
    color:#888;
  }
</style>
</head>
<body>
<h1 id="hero"><a href="https://achicrip.org" target="_blank">Asociación Chilena de Criptotecnologías</a></h1>
<p id="desc">Esta página muestra cuántos satoshis vale 1 peso chileno, actualizado cada 30 segundos.</p>
<img id="illustration" src="img/bitcoin_aplasta_peso.png" alt="Bitcoin aplastando a un peso chileno" />
<div id="value">Cargando...</div>
<div id="timestamp"></div>
<p style="text-align:center; margin-top:12px; font-size:clamp(18px,2.2vw,28px);">
  <a href="https://achicrip.org/bitcoin-en-5-minutos/" target="_blank" rel="noopener" style="color:#39ff14; text-decoration:underline;">
    ¿Qué es un satoshi? Aprendé Bitcoin en 5 minutos →
  </a>
</p>

<footer id="footer">Un fork de © 2025 goro2030 para Achicrip. Este software es <a href="https://github.com/goro2030/AdiuvoInc/howmanysats1clp" target="_blank">open source en GitHub</a>.</footer>
<script>
async function fetchSat(){
  try {
    const res = await fetch('https://api.yadio.io/exrates/btc');
    const data = await res.json();
    const priceCLP = data.BTC.CLP;
    const sat = 100000000 / priceCLP;

    const num = sat.toLocaleString('es-CL', {
      minimumFractionDigits: 3,
      maximumFractionDigits: 3
    });
    document.getElementById('value').textContent =
      `1 peso chileno = ${num} satoshis`;
    document.getElementById('timestamp').textContent = new Date().toLocaleTimeString('es-CL');
  } catch(e){
    document.getElementById('value').textContent = 'Error';
  }
}
fetchSat();
setInterval(fetchSat, 30000);
</script>
</body>
</html>
